{extend name="common/index"/}
{block name="content"}
<form id="formid">
<div class="am-legend">
    <span class="am-icon-bars"></span> 字段列表
</div>
<div class="am-btn-toolbar am-margin-top am-margin-bottom-sm">
    <a href="{:url('index')}" class="am-btn am-btn-success am-btn-xs am-radius am-icon-mail-reply"> 返回模型列表</a>
    <a href="{:url('attribute_add', ['mod' => input('mod', 'get')])}" class="am-btn am-btn-success am-btn-xs am-radius am-icon-plus"> 新增</a>
</div>
<table class="am-table am-table-hover">
    <thead>
    <tr>
        <th>ID</th>
        <th>{:lang('Field')}</th>
        <th>{:lang('Name')}</th>
        <th>{:lang('Date Type')}</th>
        <th width="300">{:lang('Management')}</th>
    </tr>
    </thead>
    <tbody>
    {foreach name="list" item="attribute"}
    <tr>
        <td>{$attribute.id}</td>
        <td>{$attribute.name}</td>
        <td>{$attribute.title}</td>
        <td>{$attribute.type|get_attribute_type}</td>
        <td>
            <div class="am-btn-group am-btn-group-xs">
                <a class="am-btn am-btn-default am-icon-pencil am-radius" title="编辑" href="{:url('attribute_edit', ['id' => $attribute['id'], 'mod' => $attribute['doc_type']])}"></a>
                <span class="am-btn am-btn-default am-icon-trash-o am-radius" data-del="{id: {$attribute.id}, url: '{:url('attribute_del')}', target:'del'}" title="删除"></span>
            </div>
        </td>
    </tr>
    {/foreach}
    </tbody>
</table>
</form>
{/block}
{block name="md"}
<div class="am-modal am-modal-confirm" tabindex="-1" id="del">
    <div class="am-modal-dialog">
        <div class="am-modal-hd">删除确认</div>
        <div class="am-modal-bd">
            你将删除选中栏目，此删除不可逆！请谨慎操作！
        </div>
        <div class="am-modal-footer">
            <span class="am-modal-btn" data-am-modal-cancel>取消</span>
            <span class="am-modal-btn" data-am-modal-confirm>确定</span>
        </div>
    </div>
</div>
{/block}